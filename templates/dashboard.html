<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard</title>
</head>
<body>
    <h1>Dashboard</h1>

    {% if "username" in session %}
        <p>Welcome, {{ session["username"] }}!</p>
        <a href="{{ url_for('logout') }}">Logout</a>
    {% else %}
        <p>You are not logged in.</p>
        <a href="{{ url_for('login') }}">Login</a>
        <a href="{{ url_for('register') }}">Register</a>
    {% endif %}

    <ol>
        {% for item in news_items %}
            {% if not item.is_deleted %}
                <li {% if item.is_read %}style="text-decoration: line-through;"{% endif %}>
                    <strong>{{ item.title }}</strong><br>
                    URL: <a href="{{ item.url }}" target="_blank">{{ item.url }}</a><br>
                    Hacker News URL: <a href="{{ item.hacker_news_url }}" target="_blank">{{ item.hacker_news_url }}</a><br>
                    Posted On: {{ item.posted_on }}<br>
                    Upvotes: {{ item.upvotes }} | Comments: {{ item.comments }}<br>
                    <a href="{{ url_for('mark_as_read', news_id=item.id) }}">Mark as Read</a> |
                    <a href="{{ url_for('delete_news', news_id=item.id) }}">Delete</a>
                </li>
            {% endif %}
        {% endfor %}
    </ol>
</body>
</html>
